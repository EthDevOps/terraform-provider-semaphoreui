---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "semaphoreui_project_integration_extract_value Resource - semaphoreui"
subcategory: ""
description: |-
  The project integration extract value resource allows you to manage extract values for webhook integrations. Extract values define how to extract data from webhook payloads and pass them as variables to template executions.
---

# semaphoreui_project_integration_extract_value (Resource)

The project integration extract value resource allows you to manage extract values for webhook integrations. Extract values define how to extract data from webhook payloads and pass them as variables to template executions.

When a webhook triggers an integration, extract values parse the request body or headers and make the extracted data available as environment variables or task variables during template execution.

## Example Usage

```terraform
resource "semaphoreui_project_integration" "webhook" {
  project_id  = semaphoreui_project.project.id
  name        = "GitHub Webhook"
  template_id = semaphoreui_project_template.deploy.id
}

# Extract a value from JSON body and set as environment variable
resource "semaphoreui_project_integration_extract_value" "git_ref" {
  project_id     = semaphoreui_project.project.id
  integration_id = semaphoreui_project_integration.webhook.id
  name           = "Git Reference"
  value_source   = "body"
  body_data_type = "json"
  key            = "$.ref"
  variable       = "GIT_REF"
  variable_type  = "environment"
}

# Extract repository name
resource "semaphoreui_project_integration_extract_value" "repo_name" {
  project_id     = semaphoreui_project.project.id
  integration_id = semaphoreui_project_integration.webhook.id
  name           = "Repository Name"
  value_source   = "body"
  body_data_type = "json"
  key            = "$.repository.name"
  variable       = "REPO_NAME"
  variable_type  = "environment"
}

# Extract from header
resource "semaphoreui_project_integration_extract_value" "delivery_id" {
  project_id     = semaphoreui_project.project.id
  integration_id = semaphoreui_project_integration.webhook.id
  name           = "Delivery ID"
  value_source   = "header"
  body_data_type = "string"
  key            = "X-GitHub-Delivery"
  variable       = "DELIVERY_ID"
  variable_type  = "environment"
}

# Extract as task variable (available in Ansible extra vars)
resource "semaphoreui_project_integration_extract_value" "commit_sha" {
  project_id     = semaphoreui_project.project.id
  integration_id = semaphoreui_project_integration.webhook.id
  name           = "Commit SHA"
  value_source   = "body"
  body_data_type = "json"
  key            = "$.after"
  variable       = "commit_sha"
  variable_type  = "task"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `body_data_type` (String) The data type of the body. Valid values are `json`, `xml`, or `string`.
- `integration_id` (Number) <i style="color:red;font-weight: bold">(ForceNew)</i> The integration ID that this extract value belongs to.
- `key` (String) The key to extract from the body or header. For JSON bodies, use JSONPath syntax (e.g., `$.field.name`). For headers, use the header name.
- `name` (String) The display name of the extract value.
- `project_id` (Number) <i style="color:red;font-weight: bold">(ForceNew)</i> The project ID that the integration belongs to.
- `value_source` (String) Where to extract the value from. Valid values are `body` or `header`.
- `variable` (String) The variable name to store the extracted value.
- `variable_type` (String) The type of variable to set. Valid values are `environment` (shell environment variable) or `task` (Ansible extra var).

### Read-Only

- `id` (Number) The extract value ID.

## Import

Import is supported using the following syntax:

```shell
# Import ID is specified by the string "project/{project_id}/integration/{integration_id}/extractvalue/{extractvalue_id}".
# - {project_id} is the ID of the project in SemaphoreUI.
# - {integration_id} is the ID of the integration in SemaphoreUI.
# - {extractvalue_id} is the ID of the extract value in SemaphoreUI.
terraform import semaphoreui_project_integration_extract_value.example project/1/integration/2/extractvalue/3
```
Or using `import {}` block in the configuration file:
```hcl
import {
  to = semaphoreui_project_integration_extract_value.example
  id = "project/1/integration/2/extractvalue/3"
}
```
