---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "semaphoreui_project_integration Resource - semaphoreui"
subcategory: ""
description: |-
  The project integration resource allows you to manage webhook integrations that can trigger template executions in a project.
---

# semaphoreui_project_integration (Resource)

The project integration resource allows you to manage webhook integrations that can trigger template executions in a project.

Integrations enable external systems (like GitHub, GitLab, or custom webhooks) to trigger Semaphore template executions via HTTP POST requests. Each integration is associated with a template and can have matchers to filter incoming requests and extract values to pass as variables.

## Example Usage

```terraform
resource "semaphoreui_project" "project" {
  name = "Example Project"
}

resource "semaphoreui_project_key" "key" {
  project_id = semaphoreui_project.project.id
  name       = "None"
  none       = {}
}

resource "semaphoreui_project_repository" "repo" {
  project_id = semaphoreui_project.project.id
  name       = "Example Repo"
  url        = "git@github.com:example/repo.git"
  branch     = "main"
  ssh_key_id = semaphoreui_project_key.key.id
}

resource "semaphoreui_project_inventory" "inventory" {
  project_id = semaphoreui_project.project.id
  name       = "Example Inventory"
  ssh_key_id = semaphoreui_project_key.key.id
  file = {
    path          = "inventory/hosts"
    repository_id = semaphoreui_project_repository.repo.id
  }
}

resource "semaphoreui_project_environment" "env" {
  project_id = semaphoreui_project.project.id
  name       = "Production"
}

resource "semaphoreui_project_template" "deploy" {
  project_id     = semaphoreui_project.project.id
  name           = "Deploy"
  playbook       = "deploy.yml"
  inventory_id   = semaphoreui_project_inventory.inventory.id
  repository_id  = semaphoreui_project_repository.repo.id
  environment_id = semaphoreui_project_environment.env.id
}

# Create an integration that triggers the deploy template
resource "semaphoreui_project_integration" "github_webhook" {
  project_id  = semaphoreui_project.project.id
  name        = "GitHub Webhook"
  template_id = semaphoreui_project_template.deploy.id
}
```

### Complete Example with Matchers and Extract Values

When using matchers, set `searchable = true` so the integration can be routed via the project alias:

```terraform
resource "semaphoreui_project_integration" "github_deploy" {
  project_id  = semaphoreui_project.project.id
  name        = "GitHub Deploy Webhook"
  template_id = semaphoreui_project_template.deploy.id
  searchable  = true  # Enable to use matchers via project alias
}

# Only trigger on push events
resource "semaphoreui_project_integration_matcher" "push_event" {
  project_id     = semaphoreui_project.project.id
  integration_id = semaphoreui_project_integration.github_deploy.id
  name           = "Push Event"
  match_type     = "body"
  method         = "equals"
  body_data_type = "json"
  key            = "$.event"
  value          = "push"
}

# Only trigger on main branch
resource "semaphoreui_project_integration_matcher" "main_branch" {
  project_id     = semaphoreui_project.project.id
  integration_id = semaphoreui_project_integration.github_deploy.id
  name           = "Main Branch"
  match_type     = "body"
  method         = "contains"
  body_data_type = "json"
  key            = "$.ref"
  value          = "refs/heads/main"
}

# Extract the git ref to use in the template
resource "semaphoreui_project_integration_extract_value" "git_ref" {
  project_id     = semaphoreui_project.project.id
  integration_id = semaphoreui_project_integration.github_deploy.id
  name           = "Git Ref"
  value_source   = "body"
  body_data_type = "json"
  key            = "$.ref"
  variable       = "GIT_REF"
  variable_type  = "environment"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The display name of the integration.
- `project_id` (Number) <i style="color:red;font-weight: bold">(ForceNew)</i> The project ID that the integration belongs to.
- `template_id` (Number) The template ID that this integration will trigger.

### Optional

- `searchable` (Boolean) When enabled, the integration uses matchers to route incoming webhooks via the project alias. When disabled, the integration has its own dedicated alias endpoint. Defaults to `false`.

### Read-Only

- `id` (Number) The integration ID.

## Import

Import is supported using the following syntax:

```shell
# Import ID is specified by the string "project/{project_id}/integration/{integration_id}".
# - {project_id} is the ID of the project in SemaphoreUI.
# - {integration_id} is the ID of the integration in SemaphoreUI.
terraform import semaphoreui_project_integration.example project/1/integration/2
```
Or using `import {}` block in the configuration file:
```hcl
import {
  to = semaphoreui_project_integration.example
  id = "project/1/integration/2"
}
```
